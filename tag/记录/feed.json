{
    "version": "https://jsonfeed.org/version/1",
    "title": "LiuJiaYi7's blog • All posts by \"记录\" tag",
    "description": "欢迎来到小七的笔记空间，我们在这里一起相互交流学习吧！",
    "home_page_url": "https://LiuJiaYi7.github.io",
    "items": [
        {
            "id": "https://liujiayi7.github.io/2021/08/22/%E4%BF%AE%E6%94%B9%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8docker%E7%8E%AF%E5%A2%83%E4%B8%8Bmysql%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AF%86%E7%A0%81/",
            "url": "https://liujiayi7.github.io/2021/08/22/%E4%BF%AE%E6%94%B9%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8docker%E7%8E%AF%E5%A2%83%E4%B8%8Bmysql%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AF%86%E7%A0%81/",
            "title": "修改云服务器docker环境下mysql数据库密码",
            "date_published": "2021-08-22T12:06:15.000Z",
            "content_html": "<figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">1</span>. docker ps  <span class=\"regexp\">//</span>列出容器相关信息</span><br></pre></td></tr></table></figure>\n<p>注意查看 NAMES 下 mysql 对应的你的命名是啥</p>\n<figure class=\"highlight armasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">2</span>. docker exec -<span class=\"keyword\">it</span> ok-mysql bash  <span class=\"comment\">//进入容器</span></span><br></pre></td></tr></table></figure>\n<p>注意名字是刚才查看到的 NAMES 底下的名字</p>\n<figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">3</span>. echo <span class=\"string\">&quot;skip-grant-tables&quot;</span> &gt;&gt; <span class=\"regexp\">/etc/my</span>sql<span class=\"regexp\">/conf.d/</span>docker.cnf  <span class=\"regexp\">//</span>设置跳过权限表的加载 </span><br></pre></td></tr></table></figure>\n<p>注意：这就意味着任何用户都能登录进来，并进行任何操作，相当不安全。所以尽快搞完完事</p>\n<figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">4</span>. <span class=\"keyword\">exit</span> <span class=\"regexp\">//</span>退出容器</span><br><span class=\"line\"><span class=\"number\">5</span>. docker restart ok-mysql <span class=\"regexp\">//</span>从新启动mysql 还是要注意名字</span><br><span class=\"line\"><span class=\"number\">6</span>. docker exec -it ok-mysql bash  <span class=\"regexp\">//</span>再此进入容器</span><br><span class=\"line\"><span class=\"number\">7</span>. mysql -u root <span class=\"regexp\">//</span> 登录mysql,此时无需密码</span><br><span class=\"line\"><span class=\"number\">8</span>. flush privileges;  <span class=\"regexp\">//</span>更新权限</span><br><span class=\"line\"><span class=\"number\">9</span>. alter user <span class=\"string\">&#x27;root&#x27;</span>@<span class=\"string\">&#x27;localhost&#x27;</span> identified by <span class=\"string\">&#x27;你想改成的密码&#x27;</span>;   <span class=\"regexp\">//</span>修改密码</span><br><span class=\"line\"><span class=\"number\">10</span>. <span class=\"keyword\">exit</span>   <span class=\"regexp\">//</span> 退出mysql</span><br><span class=\"line\"><span class=\"number\">11</span>. sed -i <span class=\"string\">&quot;s/skip-grant-tables/ /&quot;</span> <span class=\"regexp\">/etc/my</span>sql<span class=\"regexp\">/conf.d/</span>docker.cnf  <span class=\"regexp\">//</span>替换掉刚才加的跳过权限表的加载参数</span><br><span class=\"line\"><span class=\"number\">12</span>. <span class=\"keyword\">exit</span>  <span class=\"regexp\">//</span>退出容器</span><br><span class=\"line\"><span class=\"number\">13</span>. docker restart ok-mysql   <span class=\"regexp\">//</span>再次重新启动mysql</span><br></pre></td></tr></table></figure>\n<p>结束了，这样就可以使用新密码来登陆了，但是学长说更新密码可能会导致 wordpress 啥的登录不上去，但是我没碰到，可能还没反应过来，没关系，如果登不上去了只要同步更新一下数据库密码就 OK 了.</p>\n",
            "tags": [
                "记录"
            ]
        }
    ]
}